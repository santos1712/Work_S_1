<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>๐ฎ ูุนุจุฉ ุงูุฌุงุณูุณ - Spyfall</title>
    <link rel="stylesheet" href="style.css">
    <!-- Discord SDK -->
    <script src="https://unpkg.com/@discord/embedded-app-sdk"></script>
</head>
<body>
    <!-- ุดุงุดุฉ ุงูุชุญููู -->
    <div id="loading-screen" class="screen">
        <div class="loading-content">
            <div class="spinner"></div>
            <h1>๐ฎ ุฌุงุฑู ุชุญููู ูุนุจุฉ ุงูุฌุงุณูุณ...</h1>
            <p>ููุชุฑุญ ุงููุนุจุฉ: Angle | ูุทูุฑ ุงูุจูุช: Marwan Santos</p>
        </div>
    </div>

    <!-- ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ -->
    <div id="main-screen" class="screen hidden">
        <!-- ุงูููุฏุฑ -->
        <header class="game-header">
            <div class="header-left">
                <h1>๐ญ ูุนุจุฉ ุงูุฌุงุณูุณ</h1>
                <div id="game-phase" class="phase-indicator">ุฌุงุฑู ุงูุฅุนุฏุงุฏ...</div>
            </div>
            <div class="header-right">
                <div id="timer" class="timer">02:00</div>
                <div id="player-count" class="player-count">๐ฅ 0 ูุงุนุจูู</div>
            </div>
        </header>

        <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
        <main class="game-container">
            <!-- ููุญุฉ ุงููุดุงุฑููู -->
            <section class="players-panel">
                <h2>๐ฅ ุงููุงุนุจูู ูู ุงูุตูุช</h2>
                <div id="players-list" class="players-list">
                    <!-- ูุชู ุชุนุจุฆุชู ุฏููุงูููููุง -->
                </div>
                <div class="host-controls">
                    <button id="start-game-btn" class="btn btn-primary" disabled>
                        ุจุฏุก ุงููุนุจุฉ (ูุทููุจ 3-8 ูุงุนุจูู)
                    </button>
                    <button id="restart-btn" class="btn btn-secondary hidden">
                        ๐ ุฅุนุงุฏุฉ ุงููุนุจุฉ
                    </button>
                </div>
            </section>

            <!-- ููุญุฉ ุงููุนุจุฉ ุงูุฑุฆูุณูุฉ -->
            <section class="game-panel">
                <!-- ุนุฑุถ ุงูุฏูุฑ -->
                <div id="role-view" class="role-view hidden">
                    <div class="role-card" id="spy-card">
                        <h3>๐ญ ุฃูุช ุงูุฌุงุณูุณ!</h3>
                        <p>ุฃูุช <strong>ุงูุฌุงุณูุณ</strong> ูู ูุฐู ุงููุนุจุฉ!</p>
                        <div class="hints-box">
                            <h4>๐ก ุชูููุญุงุช ููุฃุณุฆูุฉ:</h4>
                            <ul>
                                <li>โข ูู ูุฐูุจ ุฅููู ูู ุงูุนุทูุงุชุ</li>
                                <li>โข ูู ูุญุชุงุฌ ุฅูู ุชุฐูุฑุฉุ</li>
                                <li>โข ูู ูููููุง ุงูุดุฑุงุก ูููุ</li>
                                <li>โข ูู ููู ููุธูููุ</li>
                                <li>โข ูู ููุชุญ ูู ุงููููุ</li>
                            </ul>
                        </div>
                    </div>
                    <div class="role-card" id="civilian-card">
                        <h3>๐ ุฃูุช ูุฏูู</h3>
                        <p>ุฃูุช <strong>ูุฏูู</strong> ูู ูุฐู ุงููุนุจุฉ!</p>
                        <div class="location-info">
                            <h4>๐ข ุงูููุงู: <span id="location-name">...</span></h4>
                            <div class="hints-box">
                                <h4>๐ก ุชูููุญุงุช ุงูููุงู:</h4>
                                <ul id="location-hints">
                                    <!-- ูุชู ุชุนุจุฆุชู ุฏููุงูููููุง -->
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ููุญุฉ ุงูุฌููุฉ -->
                <div id="round-view" class="round-view">
                    <div class="round-header">
                        <h2>๐ ุงูุฌููุฉ <span id="current-round">1</span> ูู <span id="total-rounds">3</span></h2>
                        <div class="round-status">
                            <div id="speaker-indicator" class="speaker-indicator hidden">
                                ๐ค <span id="current-speaker">...</span> ูุชุญุฏุซ ุงูุขู
                            </div>
                        </div>
                    </div>

                    <!-- ุงุฎุชูุงุฑ ุงููุงุนุจ ููุณุคุงู -->
                    <div id="player-select-view" class="action-view hidden">
                        <h3>๐ค ุงุฎุชุฑ ูุงุนุจุงู ูุชุณุฃูู</h3>
                        <p>ุฃูุช: <strong id="current-player-name">...</strong></p>
                        <div id="selectable-players" class="players-grid">
                            <!-- ุฃุฒุฑุงุฑ ุงุฎุชูุงุฑ ุงููุงุนุจูู -->
                        </div>
                    </div>

                    <!-- ุณุคุงู ููุฏ ุงูุชูููุฐ -->
                    <div id="question-view" class="action-view hidden">
                        <h3>๐ค ุงูุณุคุงู ุฌุงุฑู</h3>
                        <div class="question-participants">
                            <div class="participant asker">
                                <div class="speaking-indicator active"></div>
                                <span id="asker-name">...</span>
                                <small>ุงูุณุงุฆู</small>
                            </div>
                            <div class="arrow">โ</div>
                            <div class="participant asked">
                                <div class="speaking-indicator"></div>
                                <span id="asked-name">...</span>
                                <small>ุงููุณุคูู</small>
                            </div>
                        </div>
                        <div class="question-timer">
                            โฐ ุงูููุช ุงููุชุจูู: <span id="question-time">02:00</span>
                        </div>
                        <button id="end-question-btn" class="btn btn-danger">
                            โ ุฅููุงุก ุงูุณุคุงู
                        </button>
                    </div>

                    <!-- ุชุตููุช ุงูุฌููุฉ -->
                    <div id="round-vote-view" class="action-view hidden">
                        <h3>๐ณ๏ธ ุชุตููุช ุงูุฌููุฉ</h3>
                        <p>ูู ุชุฑูุฏูู ุงุณุชููุงู ุงูุฌููุฉ ุงูุชุงููุฉ ุฃู ุงูุงูุชูุงู ููุชุตููุช ุงูููุงุฆูุ</p>
                        <div class="vote-options">
                            <button class="vote-btn btn-success" data-vote="continue">
                                ๐ ุงุณุชููุงู ุงูุฌููุฉ ุงูุชุงููุฉ
                            </button>
                            <button class="vote-btn btn-danger" data-vote="end">
                                โน๏ธ ุฅููุงุก ูุงูุชุตููุช ุงูููุงุฆู
                            </button>
                        </div>
                        <div class="votes-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="continue-progress" style="width: 0%"></div>
                                <div class="progress-fill" id="end-progress" style="width: 0%"></div>
                            </div>
                            <div class="vote-counts">
                                <span>ุงุณุชููุงู: <span id="continue-count">0</span></span>
                                <span>ุฅููุงุก: <span id="end-count">0</span></span>
                            </div>
                        </div>
                    </div>

                    <!-- ุงูุชุตููุช ุงูููุงุฆู -->
                    <div id="final-vote-view" class="action-view hidden">
                        <h3>๐ ุงูุชุตููุช ุงูููุงุฆู</h3>
                        <p>ูู ุชุนุชูุฏ ุฃูู ุงูุฌุงุณูุณุ (ูุง ููููู ุงูุชุตููุช ูููุณู)</p>
                        <div id="final-vote-players" class="players-grid">
                            <!-- ุฃุฒุฑุงุฑ ุงูุชุตููุช ุงูููุงุฆู -->
                        </div>
                        <div class="votes-progress">
                            <div id="final-votes-display">
                                <!-- ุนุฑุถ ุงูุฃุตูุงุช -->
                            </div>
                        </div>
                    </div>

                    <!-- ูุฑุตุฉ ุชุฎููู ุงูุฌุงุณูุณ -->
                    <div id="spy-guess-view" class="action-view hidden">
                        <h3>๐ฏ ูุฑุตุฉ ุฃุฎูุฑุฉ ููุฌุงุณูุณ!</h3>
                        <p>ูุฏูู 30 ุซุงููุฉ ูุชุฎููู ุงูููุงู!</p>
                        <div id="locations-grid" class="locations-grid">
                            <!-- ูุงุฆูุฉ ุงูุฃูุงูู -->
                        </div>
                        <div class="guess-timer">
                            โฐ ุงูููุช ุงููุชุจูู: <span id="guess-time">00:30</span>
                        </div>
                    </div>

                    <!-- ูุชุงุฆุฌ ุงููุนุจุฉ -->
                    <div id="results-view" class="action-view hidden">
                        <h3>๐ฎ ููุงูุฉ ุงููุนุจุฉ</h3>
                        <div class="results-content">
                            <div class="result-section">
                                <h4>๐ ุงููุงุฆุฒูู</h4>
                                <p id="winners-text">...</p>
                            </div>
                            <div class="result-section">
                                <h4>๐ญ ุงูุฌุงุณูุณ ูุงู</h4>
                                <p id="spy-result">...</p>
                            </div>
                            <div class="result-section">
                                <h4>๐ ุงูููุงู ูุงู</h4>
                                <p id="location-result">...</p>
                            </div>
                            <div class="result-section">
                                <h4>๐ ุฅุญุตุงุฆูุงุช ุงููุนุจุฉ</h4>
                                <ul id="game-stats">
                                    <!-- ุงูุฅุญุตุงุฆูุงุช -->
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- ุงูููุชุฑ -->
        <footer class="game-footer">
            <div class="footer-info">
                <p>ููุชุฑุญ ุงููุนุจุฉ: Angle | ูุทูุฑ ุงูุจูุช: Marwan Santos</p>
                <p id="voice-status" class="voice-status">๐ ูุชุตู ุจุงูุตูุช</p>
            </div>
            <div class="spectator-info">
                <small>๐๏ธ ุงููุชูุฑุฌูู: <span id="spectator-count">0</span></small>
            </div>
        </footer>
    </div>

    <!-- SDK Script -->
    <script src="sdk.js"></script>
    <!-- State Management -->
    <script src="state.js"></script>
    <!-- Main Game Logic -->
    <script src="main.js"></script>
</body>
</html>